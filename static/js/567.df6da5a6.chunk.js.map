{"version":3,"file":"static/js/567.df6da5a6.chunk.js","mappings":"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","sources":["Pages/Movies/Movies.jsx","components/Paginator/Paginator.jsx","components/Service/Api.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport { MagnifyingGlass } from 'react-loader-spinner';\nimport { searchMovie } from 'components/Service/Api';\nimport Paginator from 'components/Paginator/Paginator';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [totalPages, setTotalPages] = useState(0);\n\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const page = Number(searchParams.get('page')) || 1;\n  const query = searchParams.get('query') || '';\n\n  const [inputValue, setInputValue] = useState(query);\n\n  useEffect(() => {\n    if (!query) return;\n    const getData = async () => {\n      try {\n        setLoading(true);\n        const { results, total_pages } = await searchMovie(query, page);\n        setMovies(results);\n        setError(null);\n        setTotalPages(total_pages);\n      } catch (error) {\n        setError('An error occurred. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    getData();\n  }, [query, page]);\n\n  const handleChange = (e) => {\n    setInputValue(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const searchQuery = e.target.elements.search.value.trim();\n    if (searchQuery === '') {\n      e.target.reset();\n      return;\n    }\n    const newSearchParams = new URLSearchParams();\n    newSearchParams.set('query', searchQuery);\n    newSearchParams.set('page', '1');\n    window.location.search = newSearchParams.toString();\n    e.target.reset();\n  };\n\n  return (\n    <>\n      <div>\n        <h2>Search movies:</h2>\n        <form onSubmit={handleSubmit}>\n          <input\n            value={inputValue}\n            onChange={handleChange}\n            name=\"search\"\n            type=\"text\"\n            placeholder=\"Type here\"\n          />\n          <button type=\"submit\">Search</button>\n        </form>\n      </div>\n      <ul>\n        {loading ? (\n          <div>\n            <MagnifyingGlass visible={true} height={80} width={80} />\n          </div>\n        ) : movies.length > 0 ? (\n          movies.map(({ title, id, poster_path }) => (\n            <li key={id}>\n              <Link to={`/movies/${id}`}>{title}</Link>\n            </li>\n          ))\n        ) : (\n          <p>\n            {error\n              ? error\n              : 'No movies with this title were found. Try entering another title.'}\n          </p>\n        )}\n      </ul>\n      <Paginator\n        totalPages={totalPages}\n        setSearchParams={() => { }}\n        params={{ query, page }}\n        currentPage={Number(page - 1) || 0}\n      />\n    </>\n  );\n};\n\nexport default Movies;","import ReactPaginate from 'react-paginate';\nimport PropTypes from 'prop-types';\nimport './Paginator.module.css';\nimport { IoIosArrowBack, IoIosArrowForward } from 'react-icons/io';\n\nfunction Paginator({ totalPages, setSearchParams, params, currentPage }) {\n  const handlePageClick = (e) => {\n    setSearchParams({ ...params, page: e.selected + 1 });\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        <ReactPaginate\n          breakLabel=\"...\"\n          previousLabel={<IoIosArrowBack />}\n          nextLabel={<IoIosArrowForward />}\n          onPageChange={handlePageClick}\n          pageRangeDisplayed={4}\n          marginPagesDisplayed={2}\n          pageCount={totalPages}\n          renderOnZeroPageCount={null}\n          forcePage={currentPage}\n          containerClassName=\"container\"\n          activeClassName=\"selected\"\n          pageClassName=\"page\"\n          breakClassName=\"break\"\n          previousClassName=\"previous\"\n          nextClassName=\"next\"\n          disabledClassName=\"disabled\"\n        />\n      </div>\n    </>\n  );\n}\n\nPaginator.propTypes = {\n  totalPages: PropTypes.number.isRequired,\n  setSearchParams: PropTypes.func.isRequired,\n  params: PropTypes.object.isRequired,\n  currentPage: PropTypes.number.isRequired,\n};\n\nexport default Paginator;","import axios from 'axios';\n\nconst apiKey = '7c406e0461b4f259f1eed9475dcfb501';\nconst baseUrl = 'https://api.themoviedb.org/3';\n\nconst instance = axios.create({\n  baseURL: baseUrl,\n  params: {\n    api_key: apiKey,\n    language: 'en-US',\n  },\n});\n\nexport const getTrendingMovies = async (page) => {\n  const request = `/trending/movie/week`;\n  try {\n    const { data } = await instance.get(request, {\n      params: {\n        page,\n      },\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getMovieDetails = async (id) => {\n  const request = `/movie/${id}`;\n  try {\n    const { data } = await instance.get(request);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getMovieCast = async (id) => {\n  const query = `/movie/${id}/credits`;\n  try {\n    const { data } = await instance.get(query);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getMovieReviews = async (id) => {\n  const query = `/movie/${id}/reviews`;\n  try {\n    const { data } = await instance.get(query);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const searchMovie = async (requestString, page) => {\n  const request = `/search/movie`;\n  try {\n    const { data } = await instance.get(request, {\n      params: {\n        query: requestString,\n        page,\n      },\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};"],"names":["useState","movies","setMovies","loading","setLoading","error","setError","totalPages","setTotalPages","location","useLocation","searchParams","URLSearchParams","search","page","Number","get","query","inputValue","setInputValue","useEffect","getData","searchMovie","results","total_pages","onSubmit","e","preventDefault","searchQuery","target","elements","value","trim","newSearchParams","set","window","toString","reset","onChange","name","type","placeholder","visible","height","width","length","map","title","id","poster_path","to","setSearchParams","params","currentPage","className","breakLabel","previousLabel","nextLabel","onPageChange","selected","pageRangeDisplayed","marginPagesDisplayed","pageCount","renderOnZeroPageCount","forcePage","containerClassName","activeClassName","pageClassName","breakClassName","previousClassName","nextClassName","disabledClassName","instance","axios","baseURL","api_key","language","getTrendingMovies","data","getMovieDetails","request","getMovieCast","getMovieReviews","requestString"],"sourceRoot":""}