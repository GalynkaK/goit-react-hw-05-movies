{"version":3,"file":"static/js/76.32ff8459.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/Pages/MovieDetails/MovieDetails.module.css?f582","Pages/MovieDetails/MovieDetails.jsx","components/Service/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MovieDetails_button__9VA3h\",\"loading\":\"MovieDetails_loading__p0TT7\",\"imgWrap\":\"MovieDetails_imgWrap__xy8n4\",\"image\":\"MovieDetails_image__y5vVl\",\"wrapper\":\"MovieDetails_wrapper__eugUr\",\"paragraph\":\"MovieDetails_paragraph__JGSEq\",\"list\":\"MovieDetails_list__T2rL1\",\"castButton\":\"MovieDetails_castButton__X596Q\",\"reviews\":\"MovieDetails_reviews__mFRLJ\"};","// import { Link, Outlet, useLocation, useParams, Suspense, useEffect, useState } from 'react-router-dom';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport css from './MovieDetails.module.css';\nimport { getMovieDetails } from 'components/Service/Api';\nimport { useEffect, useState } from 'react';\nimport { MagnifyingGlass } from 'react-loader-spinner';\nimport { Suspense } from 'react';\n\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const movieData = await getMovieDetails(movieId);\n        setData(movieData);\n        setLoading(false);\n      } catch (error) {\n        console.log(error);\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [movieId]);\n\n  const getYear = releaseData => {\n    const date = new Date(releaseData);\n    return date.getFullYear();\n  };\n\n  const getGenres = () => {\n    return data.genres.map(genre => genre.name).join(', ');\n  };\n\n  const location = useLocation();\n\n  const cameBack = location.state?.from || '/';\n\n  return (\n    <>\n      <Link className={css.button} to={cameBack}>\n        Go Back\n      </Link>\n      {loading ? (\n        <div className={css.loading}>\n          <MagnifyingGlass\n            visible={true}\n            height=\"80\"\n            width=\"80\"\n            ariaLabel=\"MagnifyingGlass-loading\"\n            wrapperStyle={{ margin: '0 auto' }}\n            wrapperClass=\"MagnifyingGlass-wrapper\"\n            glassColor=\"#c0efff\"\n            color=\"#e15b64\"\n          />\n        </div>\n      ) : (\n        <>\n          <div className={css.imgWrap}>\n            {data.poster_path ? (\n              <img className={css.image} alt={data.original_title} src={`https://image.tmdb.org/t/p/w500${data.poster_path}`} />\n            ) : (\n              <img className={css.image} src=\"/src/img/noMovieImg.jpg\" alt=\"not available\" />\n            )}\n            <div className={css.wrapper}>\n              <h1>\n                {data.original_title} ({getYear(data.release_date)})\n              </h1>\n              <p className={css.paragraph}>User Score: {Math.floor(data.vote_average * 10)}%</p>\n              <p className={css.paragraph}>Overview</p>\n              <p>{getGenres()}</p>\n            </div>\n            <div>\n              <ul className={css.list}>\n                <li>\n                  <Link to={`${movieId}/cast`} state={{ from: cameBack }}>\n                    <button className={css.castButton}>Cast</button>\n                  </Link>\n                </li>\n                <li>\n                  <Link to={`${movieId}/reviews`} state={{ from: cameBack }}>\n                    <button className={css.reviews}>Reviews</button>\n                  </Link>\n                </li>\n              </ul>\n            </div>\n            <Suspense\n              fallback={\n                <div className={css.loading}>\n                  <MagnifyingGlass\n                    visible={true}\n                    height=\"80\"\n                    width=\"80\"\n                    ariaLabel=\"MagnifyingGlass-loading\"\n                    wrapperStyle={{ margin: '0 auto' }}\n                    wrapperClass=\"MagnifyingGlass-wrapper\"\n                    glassColor=\"#c0efff\"\n                    color=\"#e15b64\"\n                  />\n                </div>\n              }\n            >\n              <Outlet />\n            </Suspense>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;","import axios from 'axios';\n\nconst apiKey = '7c406e0461b4f259f1eed9475dcfb501';\nconst baseUrl = 'https://api.themoviedb.org/3';\n\nconst instance = axios.create({\n  baseURL: baseUrl,\n  params: {\n    api_key: apiKey,\n    language: 'en-US',\n  },\n});\n\nexport const getTrendingMovies = async (page) => {\n  const request = `/trending/movie/week`;\n  try {\n    const { data } = await instance.get(request, {\n      params: {\n        page,\n      },\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getMovieDetails = async (id) => {\n  const request = `/movie/${id}`;\n  try {\n    const { data } = await instance.get(request);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getMovieCast = async (id) => {\n  const query = `/movie/${id}/credits`;\n  try {\n    const { data } = await instance.get(query);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getMovieReviews = async (id) => {\n  const query = `/movie/${id}/reviews`;\n  try {\n    const { data } = await instance.get(query);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const searchMovie = async (requestString, page) => {\n  const request = `/search/movie`;\n  try {\n    const { data } = await instance.get(request, {\n      params: {\n        query: requestString,\n        page,\n      },\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};"],"names":["movieId","useParams","useState","data","setData","loading","setLoading","useEffect","fetchData","getMovieDetails","movieData","console","log","releaseData","cameBack","useLocation","state","from","className","css","to","visible","height","width","ariaLabel","wrapperStyle","margin","wrapperClass","glassColor","color","poster_path","alt","original_title","src","release_date","Date","getFullYear","Math","floor","vote_average","genres","map","genre","name","join","Suspense","fallback","instance","axios","baseURL","params","api_key","language","getTrendingMovies","page","get","id","request","getMovieCast","query","getMovieReviews","searchMovie","requestString"],"sourceRoot":""}